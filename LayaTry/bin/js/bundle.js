var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameUI_1 = require("./Script/GameUI");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("Script/GameUI.ts", GameUI_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "test/start.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./Script/GameUI":3}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var WebSocketPipe_1 = require("./WebSocketPipe");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
var StandardObj = /** @class */ (function () {
    function StandardObj() {
    }
    StandardObj.TheWebSocketPipe = new WebSocketPipe_1.default();
    return StandardObj;
}());
exports.default = StandardObj;
},{"./GameConfig":1,"./WebSocketPipe":4}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../ui/layaMaxUI");
var Main_1 = require("../Main");
var GameUI = /** @class */ (function (_super) {
    __extends(GameUI, _super);
    function GameUI() {
        var _this = _super.call(this) || this;
        GameUI.instance = _this;
        return _this;
    }
    GameUI.prototype.onClickDo = function (e) {
        // StandardObj.TheWebSocketPipe.sendMsgToSocket(this.TextInput.text)
        var msg = msgScheme.AMsg.create({
            head: msgScheme.AMsg.Head.Login_Request,
            loginRequest: {
                userId: this.TextInput.text,
                password: "bbb"
            }
        });
        console.log(msg);
        var buffer = msgScheme.AMsg.encode(msg).finish();
        console.log("Buffer:" + buffer);
        Main_1.default.TheWebSocketPipe.sendBinaryToSocket(buffer);
        this.ShowText.text = "";
        //  let aHead = msgScheme.AMsg.decode(buffer).head
        //  console.log("decode:"+aHead)
    };
    GameUI.prototype.onEnable = function () {
        this.SendButton.on(Laya.Event.CLICK, this, this.onClickDo);
        console.log("按鈕ok");
    };
    GameUI.prototype.inputShowText = function (ok) {
        if (ok) {
            this.ShowText.text = "login_ok";
        }
        else {
            this.ShowText.text = "login_fail";
        }
    };
    return GameUI;
}(layaMaxUI_1.ui.test.startUI));
exports.default = GameUI;
},{"../Main":2,"./../ui/layaMaxUI":5}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameUI_1 = require("./Script/GameUI");
var WebSocketPipe = /** @class */ (function () {
    function WebSocketPipe() {
        this.byte = new Laya.Byte();
        //这里我们采用小端
        this.byte.endian = Laya.Byte.LITTLE_ENDIAN;
        this.socket = new Laya.Socket();
        //这里我们采用小端
        this.socket.endian = Laya.Byte.LITTLE_ENDIAN;
        //建立连接
        this.socket.connectByUrl("ws://localhost:8080");
        this.socket.on(Laya.Event.OPEN, this, this.openHandler);
        this.socket.on(Laya.Event.MESSAGE, this, this.receiveHandler);
        this.socket.on(Laya.Event.CLOSE, this, this.closeHandler);
        this.socket.on(Laya.Event.ERROR, this, this.errorHandler);
    }
    WebSocketPipe.prototype.openHandler = function (event) {
        if (event === void 0) { event = null; }
        console.log("连接成功");
        //正确建立连接；
    };
    WebSocketPipe.prototype.receiveHandler = function (msg) {
        console.log(msg);
        this.byte.clear();
        this.byte.writeArrayBuffer(msg);
        this.byte.pos = 0;
        var aMsg = msgScheme.AMsg.decode(this.byte.readUint8Array(0, 100000));
        console.log(aMsg);
        switch (aMsg.head) {
            case msgScheme.AMsg.Head.Login_Response:
                GameUI_1.default.instance.inputShowText(aMsg.loginResponse.ok);
            default:
                console.log("unknow_message");
        }
        // let head = msgScheme.AMsg.decode(msg.buffer).head
        // console.log(head)
        // let buffer = new BufferReader(msg)
        // const aHead = aMsg.head
        // if (aHead == msgScheme.AMsg.Head.Login_Response) { 
        //        console.log("=====服务器回复登录结果：====="+ aMsg.loginResponse.ok+"==========")
        // }
        //接收到数据触发函数
    };
    WebSocketPipe.prototype.closeHandler = function (e) {
        if (e === void 0) { e = null; }
        //关闭事件
    };
    WebSocketPipe.prototype.errorHandler = function (e) {
        if (e === void 0) { e = null; }
        console.log("连接失败");
        //连接出错
    };
    WebSocketPipe.prototype.sendMsgToSocket = function (msg) {
        this.socket.send(msg);
    };
    WebSocketPipe.prototype.sendBinaryToSocket = function (buffer) {
        this.socket.send(buffer);
    };
    return WebSocketPipe;
}());
exports.default = WebSocketPipe;
},{"./Script/GameUI":3}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var test;
    (function (test) {
        var startUI = /** @class */ (function (_super) {
            __extends(startUI, _super);
            function startUI() {
                return _super.call(this) || this;
            }
            startUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("test/start");
            };
            return startUI;
        }(Laya.Scene));
        test.startUI = startUI;
        REG("ui.test.startUI", startUI);
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkY6L0xheWEvcmVzb3VyY2VzL2FwcC9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL0dhbWVDb25maWcudHMiLCJzcmMvTWFpbi50cyIsInNyYy9TY3JpcHQvR2FtZVVJLnRzIiwic3JjL1dlYlNvY2tldFBpcGUudHMiLCJzcmMvdWkvbGF5YU1heFVJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1ZBLGdHQUFnRztBQUNoRywwQ0FBb0M7QUFDcEM7O0VBRUU7QUFDRjtJQWFJO0lBQWMsQ0FBQztJQUNSLGVBQUksR0FBWDtRQUNJLElBQUksR0FBRyxHQUFhLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO1FBQzdDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxnQkFBTSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQWhCTSxnQkFBSyxHQUFRLEdBQUcsQ0FBQztJQUNqQixpQkFBTSxHQUFRLElBQUksQ0FBQztJQUNuQixvQkFBUyxHQUFRLFlBQVksQ0FBQztJQUM5QixxQkFBVSxHQUFRLE1BQU0sQ0FBQztJQUN6QixpQkFBTSxHQUFRLEtBQUssQ0FBQztJQUNwQixpQkFBTSxHQUFRLE1BQU0sQ0FBQztJQUNyQixxQkFBVSxHQUFLLGtCQUFrQixDQUFDO0lBQ2xDLG9CQUFTLEdBQVEsRUFBRSxDQUFDO0lBQ3BCLGdCQUFLLEdBQVMsS0FBSyxDQUFDO0lBQ3BCLGVBQUksR0FBUyxLQUFLLENBQUM7SUFDbkIsdUJBQVksR0FBUyxLQUFLLENBQUM7SUFDM0IsNEJBQWlCLEdBQVMsSUFBSSxDQUFDO0lBTTFDLGlCQUFDO0NBbEJELEFBa0JDLElBQUE7a0JBbEJvQixVQUFVO0FBbUIvQixVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7Ozs7QUN4QmxCLDJDQUFzQztBQUN0QyxpREFBMkM7QUFFM0M7SUFDQztRQUNDLGdCQUFnQjtR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QUFBOzs7OztBQ3JFRCxJQUFJLEdBQUcsR0FBYSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQztBQUM3QyxJQUFjLEVBQUUsQ0FZZjtBQVpELFdBQWMsRUFBRTtJQUFDLElBQUEsSUFBSSxDQVlwQjtJQVpnQixXQUFBLElBQUk7UUFDakI7WUFBNkIsMkJBQVU7WUFJbkM7dUJBQWUsaUJBQU87WUFBQSxDQUFDO1lBQ3ZCLGdDQUFjLEdBQWQ7Z0JBQ0ksaUJBQU0sY0FBYyxXQUFFLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDakMsQ0FBQztZQUNMLGNBQUM7UUFBRCxDQVRBLEFBU0MsQ0FUNEIsSUFBSSxDQUFDLEtBQUssR0FTdEM7UUFUWSxZQUFPLFVBU25CLENBQUE7UUFDRCxHQUFHLENBQUMsaUJBQWlCLEVBQUMsT0FBTyxDQUFDLENBQUM7SUFDbkMsQ0FBQyxFQVpnQixJQUFJLEdBQUosT0FBSSxLQUFKLE9BQUksUUFZcEI7QUFBRCxDQUFDLEVBWmEsRUFBRSxHQUFGLFVBQUUsS0FBRixVQUFFLFFBWWYiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcbmltcG9ydCBHYW1lVUkgZnJvbSBcIi4vU2NyaXB0L0dhbWVVSVwiXHJcbi8qXHJcbiog5ri45oiP5Yid5aeL5YyW6YWN572uO1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIHdpZHRoOm51bWJlcj02NDA7XHJcbiAgICBzdGF0aWMgaGVpZ2h0Om51bWJlcj0xMTM2O1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJmaXhlZHdpZHRoXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJub25lXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOnN0cmluZz1cInRvcFwiO1xyXG4gICAgc3RhdGljIGFsaWduSDpzdHJpbmc9XCJsZWZ0XCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJ0ZXN0L3N0YXJ0LnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJTY3JpcHQvR2FtZVVJLnRzXCIsR2FtZVVJKTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmltcG9ydCBXZWJTb2NrZXRQaXBlIGZyb20gXCIuL1dlYlNvY2tldFBpcGVcIlxyXG5pbXBvcnQgR2FtZVVJIGZyb20gXCIuL1NjcmlwdC9HYW1lVUlcIjtcclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdKSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRHYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSk7XHJcblx0fVxyXG59XHJcbi8v5r+A5rS75ZCv5Yqo57G7XHJcbm5ldyBNYWluKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGFuZGFyZE9iaiB7XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgVGhlV2ViU29ja2V0UGlwZTpXZWJTb2NrZXRQaXBlID0gbmV3IFdlYlNvY2tldFBpcGUoKVxyXG5cdFxyXG59XHJcblxyXG4iLCJcclxuaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi8uLi91aS9sYXlhTWF4VUlcIjtcclxuXHJcbmltcG9ydCBTdGFuZGFyZE9iaiBmcm9tIFwiLi4vTWFpblwiO1xyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVVJIGV4dGVuZHMgdWkudGVzdC5zdGFydFVJIHtcclxuXHJcbiAgICBzdGF0aWMgaW5zdGFuY2U6IEdhbWVVSVxyXG5cclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIEdhbWVVSS5pbnN0YW5jZSA9IHRoaXNcclxuICAgIH1cclxuXHJcblxyXG4gICAgb25DbGlja0RvKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgLy8gU3RhbmRhcmRPYmouVGhlV2ViU29ja2V0UGlwZS5zZW5kTXNnVG9Tb2NrZXQodGhpcy5UZXh0SW5wdXQudGV4dClcclxuXHJcbiAgICAgICAgbGV0IG1zZyA9IG1zZ1NjaGVtZS5BTXNnLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGhlYWQ6IG1zZ1NjaGVtZS5BTXNnLkhlYWQuTG9naW5fUmVxdWVzdCxcclxuICAgICAgICAgICAgbG9naW5SZXF1ZXN0OiB7XHJcbiAgICAgICAgICAgICAgICB1c2VySWQ6IHRoaXMuVGV4dElucHV0LnRleHQsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogXCJiYmJcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBjb25zb2xlLmxvZyhtc2cpXHJcbiAgICAgICAgbGV0IGJ1ZmZlciA9IG1zZ1NjaGVtZS5BTXNnLmVuY29kZShtc2cpLmZpbmlzaCgpXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJCdWZmZXI6XCIgKyBidWZmZXIpXHJcbiAgICAgICAgU3RhbmRhcmRPYmouVGhlV2ViU29ja2V0UGlwZS5zZW5kQmluYXJ5VG9Tb2NrZXQoYnVmZmVyKVxyXG5cclxuICAgICAgICB0aGlzLlNob3dUZXh0LnRleHQgPSBcIlwiXHJcblxyXG4gICAgICAgIC8vICBsZXQgYUhlYWQgPSBtc2dTY2hlbWUuQU1zZy5kZWNvZGUoYnVmZmVyKS5oZWFkXHJcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwiZGVjb2RlOlwiK2FIZWFkKVxyXG5cclxuICAgIH1cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuU2VuZEJ1dHRvbi5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm9uQ2xpY2tEbyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLmjInpiJVva1wiKVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5wdXRTaG93VGV4dChvazogQm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIGlmIChvaykge1xyXG4gICAgICAgICAgICB0aGlzLlNob3dUZXh0LnRleHQgPSBcImxvZ2luX29rXCJcclxuXHJcbiAgICAgICAgfSBlbHNlIHsgdGhpcy5TaG93VGV4dC50ZXh0ID0gXCJsb2dpbl9mYWlsXCIgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVhZGVyLCBCdWZmZXJSZWFkZXIgfSBmcm9tIFwiLi4vcHJvdG9idWYvbGlicmFyeS9wcm90b2J1Zi1saWJyYXJ5XCI7XHJcbmltcG9ydCBHYW1lVUkgZnJvbSBcIi4vU2NyaXB0L0dhbWVVSVwiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZWJTb2NrZXRQaXBlIHtcclxuICAgIHByaXZhdGUgc29ja2V0OiBMYXlhLlNvY2tldDtcclxuICAgIHByaXZhdGUgYnl0ZTogTGF5YS5CeXRlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICB0aGlzLmJ5dGUgPSBuZXcgTGF5YS5CeXRlKCk7XHJcbiAgICAgICAgLy/ov5nph4zmiJHku6zph4fnlKjlsI/nq69cclxuICAgICAgICB0aGlzLmJ5dGUuZW5kaWFuID0gTGF5YS5CeXRlLkxJVFRMRV9FTkRJQU47XHJcbiAgICAgICAgdGhpcy5zb2NrZXQgPSBuZXcgTGF5YS5Tb2NrZXQoKTtcclxuICAgICAgICAvL+i/memHjOaIkeS7rOmHh+eUqOWwj+err1xyXG4gICAgICAgIHRoaXMuc29ja2V0LmVuZGlhbiA9IExheWEuQnl0ZS5MSVRUTEVfRU5ESUFOO1xyXG4gICAgICAgIC8v5bu656uL6L+e5o6lXHJcbiAgICAgICAgdGhpcy5zb2NrZXQuY29ubmVjdEJ5VXJsKFwid3M6Ly9sb2NhbGhvc3Q6ODA4MFwiKTtcclxuICAgICAgICB0aGlzLnNvY2tldC5vbihMYXlhLkV2ZW50Lk9QRU4sIHRoaXMsIHRoaXMub3BlbkhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMuc29ja2V0Lm9uKExheWEuRXZlbnQuTUVTU0FHRSwgdGhpcywgdGhpcy5yZWNlaXZlSGFuZGxlcik7XHJcbiAgICAgICAgdGhpcy5zb2NrZXQub24oTGF5YS5FdmVudC5DTE9TRSwgdGhpcywgdGhpcy5jbG9zZUhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMuc29ja2V0Lm9uKExheWEuRXZlbnQuRVJST1IsIHRoaXMsIHRoaXMuZXJyb3JIYW5kbGVyKTtcclxuXHJcbiAgICB9XHJcbiAgICBwcml2YXRlIG9wZW5IYW5kbGVyKGV2ZW50OiBhbnkgPSBudWxsKTogdm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLov57mjqXmiJDlip9cIilcclxuICAgICAgICAvL+ato+ehruW7uueri+i/nuaOpe+8m1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSByZWNlaXZlSGFuZGxlcihtc2cpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2cobXNnKVxyXG4gICAgICAgIHRoaXMuYnl0ZS5jbGVhcigpXHJcbiAgICAgICAgdGhpcy5ieXRlLndyaXRlQXJyYXlCdWZmZXIobXNnKVxyXG4gICAgICAgIHRoaXMuYnl0ZS5wb3MgPSAwXHJcbiAgICAgICAgbGV0IGFNc2cgPSBtc2dTY2hlbWUuQU1zZy5kZWNvZGUodGhpcy5ieXRlLnJlYWRVaW50OEFycmF5KDAsIDEwMDAwMCkpXHJcbiAgICAgICAgY29uc29sZS5sb2coYU1zZylcclxuICAgICAgICBzd2l0Y2ggKGFNc2cuaGVhZCkge1xyXG5cclxuICAgICAgICAgICAgY2FzZSBtc2dTY2hlbWUuQU1zZy5IZWFkLkxvZ2luX1Jlc3BvbnNlOlxyXG4gICAgICAgICAgICAgICAgR2FtZVVJLmluc3RhbmNlLmlucHV0U2hvd1RleHQoYU1zZy5sb2dpblJlc3BvbnNlLm9rKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidW5rbm93X21lc3NhZ2VcIilcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGxldCBoZWFkID0gbXNnU2NoZW1lLkFNc2cuZGVjb2RlKG1zZy5idWZmZXIpLmhlYWRcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhoZWFkKVxyXG5cclxuICAgICAgICAvLyBsZXQgYnVmZmVyID0gbmV3IEJ1ZmZlclJlYWRlcihtc2cpXHJcblxyXG4gICAgICAgIC8vIGNvbnN0IGFIZWFkID0gYU1zZy5oZWFkXHJcbiAgICAgICAgLy8gaWYgKGFIZWFkID09IG1zZ1NjaGVtZS5BTXNnLkhlYWQuTG9naW5fUmVzcG9uc2UpIHsgXHJcbiAgICAgICAgLy8gICAgICAgIGNvbnNvbGUubG9nKFwiPT09PT3mnI3liqHlmajlm57lpI3nmbvlvZXnu5PmnpzvvJo9PT09PVwiKyBhTXNnLmxvZ2luUmVzcG9uc2Uub2srXCI9PT09PT09PT09XCIpXHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAvL+aOpeaUtuWIsOaVsOaNruinpuWPkeWHveaVsFxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBjbG9zZUhhbmRsZXIoZTogYW55ID0gbnVsbCk6IHZvaWQge1xyXG4gICAgICAgIC8v5YWz6Zet5LqL5Lu2XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGVycm9ySGFuZGxlcihlOiBhbnkgPSBudWxsKTogdm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLov57mjqXlpLHotKVcIilcclxuICAgICAgICAvL+i/nuaOpeWHuumUmVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZW5kTXNnVG9Tb2NrZXQobXNnOiBTdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnNvY2tldC5zZW5kKG1zZylcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZEJpbmFyeVRvU29ja2V0KGJ1ZmZlcjogQXJyYXlCdWZmZXIpIHtcclxuICAgICAgICB0aGlzLnNvY2tldC5zZW5kKGJ1ZmZlcilcclxuICAgIH1cclxufVxyXG4iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cbmltcG9ydCBWaWV3PUxheWEuVmlldztcclxuaW1wb3J0IERpYWxvZz1MYXlhLkRpYWxvZztcclxuaW1wb3J0IFNjZW5lPUxheWEuU2NlbmU7XG52YXIgUkVHOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcbmV4cG9ydCBtb2R1bGUgdWkudGVzdCB7XHJcbiAgICBleHBvcnQgY2xhc3Mgc3RhcnRVSSBleHRlbmRzIExheWEuU2NlbmUge1xyXG5cdFx0cHVibGljIFNlbmRCdXR0b246TGF5YS5CdXR0b247XG5cdFx0cHVibGljIFRleHRJbnB1dDpMYXlhLlRleHRJbnB1dDtcblx0XHRwdWJsaWMgU2hvd1RleHQ6bGF5YS5kaXNwbGF5LlRleHQ7XG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkU2NlbmUoXCJ0ZXN0L3N0YXJ0XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFJFRyhcInVpLnRlc3Quc3RhcnRVSVwiLHN0YXJ0VUkpO1xyXG59XHIiXX0=
